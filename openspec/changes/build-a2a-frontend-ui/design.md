## Context

现有仓库已实现 MVP 后端接口与最小页面骨架，核心流程通过 `scripts/e2e-demo.sh` 已可验证，但前端缺少面向演示和联调的统一操作面板。需求强调“源码优先”对齐接口行为，同时希望 UI 风格参考 `home.second.me` 的简洁高对比表达，并结合项目的 A2A 竞技背景形成“可展示、可操作、可验证”的体验。

约束：
- 不改动后端核心业务语义与数据库模型。
- 前端必须直接使用当前 API 路由，不引入中间代理层。
- 以最小依赖完成视觉升级，优先保证稳定与交付速度。

## Goals / Non-Goals

**Goals:**
- 在首页提供端到端控制台，覆盖登录、房间、回合、结算、榜单与指标查询。
- 在结果页提供可分享战报视图，支持关键信息快速浏览与回跳。
- 引入统一设计 token 与响应式规则，提升演示观感与一致性。

**Non-Goals:**
- 不新增 WebSocket/SSE 实时推送机制。
- 不新增复杂前端状态管理库或组件库。
- 不重构已有 API 协议和鉴权模式。

## Decisions

1. **采用单页控制台聚合所有核心操作**
   - 决策：将核心动作集中于 `GameControlCenter` 客户端组件。
   - 原因：减少页面跳转，便于演示“操作->反馈”闭环。
   - 备选：拆分多页面流程（更清晰但操作路径更长）。

2. **坚持源码 API 为唯一数据来源**
   - 决策：前端直接调用现有 `/api/*` 接口，并展示原始 JSON 快照。
   - 原因：确保与后端行为完全一致，方便联调排障。
   - 备选：前端再包装 ViewModel 层（更整洁但增加维护成本）。

3. **样式系统采用轻量 CSS token 化方案**
   - 决策：在 `globals.css` 中定义颜色/间距/阴影 token，并统一按钮、卡片、输入样式。
   - 原因：无需引入外部 UI 库即可实现一致视觉。
   - 备选：引入 Tailwind/shadcn（速度快但会扩大改动面）。

4. **结果页强调“分享信息密度”而非复杂可视化**
   - 决策：使用元信息卡片 + 表格展示参与者成绩，并提供快速操作按钮。
   - 原因：满足 demo 讲解与截图传播，避免图表开发成本。
   - 备选：图表化 dashboard（视觉更丰富但实现成本更高）。

## Risks / Trade-offs

- [控制台操作集中导致信息密集] → 通过分区卡片、摘要卡和错误提示降低认知负担。
- [直接展示原始 JSON 可读性一般] → 结合结构化模块与代码块并存。
- [纯客户端串行请求易出现状态抖动] → 增加 action 包装与前置校验，减少无效调用。
- [外链字体在网络受限环境可能失败] → 保留系统字体回退链。

## Migration Plan

1. 新增控制台组件并替换首页占位内容。
2. 升级全局样式文件，引入 token、响应式与交互状态。
3. 重构结果页展示结构并保持 API 调用路径不变。
4. 补齐 OpenSpec proposal/specs/design/tasks 以反映实现范围。
5. 运行 `npm run typecheck` 与 `npm run lint` 验证改动。

回滚策略：
- 若出现阻断，可将 `src/app/page.tsx` 回退到原有最小页面；
- `globals.css` 与结果页可独立回滚，不影响后端接口能力。

## Open Questions

- 是否需要在后续迭代加入“预设 demo 剧本”一键执行按钮以进一步降低演示操作复杂度？
- 是否需要补充观战只读视图以强化 A2A 对战可视化表达？
