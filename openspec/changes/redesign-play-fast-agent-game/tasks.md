## 1. Play 入口重构（短平快）

- [x] 1.1 重构 `src/app/play/page.tsx` 首屏信息架构，移除“房间 ID 必填”和“显示名称必填”输入。
- [x] 1.2 新增模式卡片与快速开战主按钮，默认两步内进入可开局状态。
- [x] 1.3 增加“高级设置”折叠区（非必填），确保默认路径不被阻断。

## 2. 账户身份自动绑定

- [x] 2.1 在房间加入链路中接入登录用户资料，自动生成玩家默认显示身份。
- [x] 2.2 调整前端状态展示与结果页字段，保证同一玩家身份在开局、对局、结算阶段一致。
- [x] 2.3 保留可选别名能力并验证“不填别名也可正常开局”。

## 3. 自身 Agent 参战替代观战导向

- [x] 3.1 调整文案与交互优先级，将观战主入口替换为“让我的 Agent 参战”。
- [x] 3.2 在创建/加入房间接口中支持 `autoJoinSelfAgent` 语义，并完成服务端校验。
- [x] 3.3 实现自身 Agent 初始化失败的降级分支（回退平台 Agent 或提示后继续开局）。

## 4. 对战模式与多 Agent 拓扑扩展

- [x] 4.1 扩展房间 API 参数（如 `mode`、`participantsConfig`）并保持旧调用兼容。
- [x] 4.2 在 `src/lib/room/room-state.ts` 引入统一 `Participant` 结构，支持 `human | agent` 与 owner 归属。
- [x] 4.3 在 `src/lib/agent/orchestrator.ts` 与 `src/lib/game/guess-word-engine.ts` 实现多参与方轮转调度与结算。
- [x] 4.4 增加参与者数量上限与拓扑合法性校验，拒绝无效多人配置。

## 5. 前端房间流与结果展示适配

- [x] 5.1 更新 `src/app/room/[roomId]/page.tsx` 与轮询逻辑，渲染多参与方实时状态。
- [x] 5.2 更新对局结果展示，使多人模式下可呈现每个参与者的排名/得分结果。
- [x] 5.3 调整 `src/components/Navbar.tsx` 与相关导航入口，统一新的“快速开战”心智。

## 6. 回归验证与埋点对齐

- [ ] 6.1 验证三种核心模式链路：玩家 vs 平台 Agent、玩家 vs 自身 Agent、多 Agent 对战。
- [x] 6.2 验证旧 1v1 接口兼容性，确保不传新增字段时行为稳定。
- [x] 6.3 校验关键指标口径（开局耗时、开局率、完局率、模式分布）并补齐必要埋点。
- [x] 6.4 运行类型检查/基础 lint 与最小手工联调，记录阻断问题并闭环。
